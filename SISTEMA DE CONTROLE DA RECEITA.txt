<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Controle de Receita Municipal</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.1/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>
    <style>
        .hidden {
            display: none;
        }
        .page-content {
            min-height: calc(100vh - 64px);
        }
        .chart-container {
            position: relative;
            height: 300px;
            width: 100%;
        }
        .table-container {
            overflow-x: auto;
        }
        .filter-panel {
            transition: max-height 0.3s ease-in-out;
            max-height: 0;
            overflow: hidden;
        }
        .filter-panel.expanded {
            max-height: 500px;
        }
        .text-primary {
            color: #1E40AF;
        }
        .bg-primary {
            background-color: #1E40AF;
        }
        .border-primary {
            border-color: #1E40AF;
        }
        @media print {
            .no-print {
                display: none;
            }
            .page-break {
                page-break-before: avoid;
            }
        }
    </style>
</head>
<body class="bg-gray-100 font-sans">
    <!-- Login Modal -->
    <div id="loginModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
        <div class="bg-white rounded-lg shadow-xl p-8 max-w-md w-full">
            <div class="mb-6 text-center">
                <h2 class="text-2xl font-bold text-gray-800">Sistema de Controle de Receita Municipal</h2>
                <p class="text-gray-600 mt-1">Ministério das Finanças de Angola</p>
                <div class="text-center mt-4 mb-6">
                    <i class="fas fa-landmark text-5xl text-primary"></i>
                </div>
            </div>
            
            <div id="loginForm">
                <h3 class="text-xl font-bold mb-4 text-center">Login</h3>
                <div class="mb-4">
                    <label for="email" class="block text-gray-700 text-sm font-bold mb-2">Email:</label>
                    <input type="email" id="email" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" placeholder="seu.email@exemplo.com">
                </div>
                <div class="mb-6">
                    <label for="password" class="block text-gray-700 text-sm font-bold mb-2">Senha:</label>
                    <input type="password" id="password" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" placeholder="********">
                </div>
                <div class="flex items-center justify-between mb-4">
                    <div class="flex items-center">
                        <input type="checkbox" id="remember" class="mr-2">
                        <label for="remember" class="text-sm text-gray-600">Lembrar-me</label>
                    </div>
                    <a href="#" class="text-sm text-blue-500 hover:text-blue-700">Esqueceu a senha?</a>
                </div>
                <div class="flex flex-col space-y-4">
                    <button onclick="login()" class="bg-primary hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline w-full">
                        Entrar
                    </button>
                    <button onclick="showRegisterForm()" class="bg-white hover:bg-gray-100 text-gray-800 font-bold py-2 px-4 border border-gray-400 rounded focus:outline-none focus:shadow-outline w-full">
                        Registrar-se
                    </button>
                </div>
            </div>
            
            <div id="registerForm" class="hidden">
                <h3 class="text-xl font-bold mb-4 text-center">Registrar Novo Usuário</h3>
                <div class="mb-4">
                    <label for="regName" class="block text-gray-700 text-sm font-bold mb-2">Nome Completo:</label>
                    <input type="text" id="regName" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" placeholder="Nome Completo">
                </div>
                <div class="mb-4">
                    <label for="regEmail" class="block text-gray-700 text-sm font-bold mb-2">Email:</label>
                    <input type="email" id="regEmail" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" placeholder="seu.email@exemplo.com">
                </div>
                <div class="mb-4">
                    <label for="regPassword" class="block text-gray-700 text-sm font-bold mb-2">Senha:</label>
                    <input type="password" id="regPassword" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" placeholder="********">
                </div>
                <div class="mb-6">
                    <label for="regPasswordConfirm" class="block text-gray-700 text-sm font-bold mb-2">Confirmar Senha:</label>
                    <input type="password" id="regPasswordConfirm" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" placeholder="********">
                </div>
                <div class="mb-4">
                    <label for="regRole" class="block text-gray-700 text-sm font-bold mb-2">Função:</label>
                    <select id="regRole" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline">
                        <option value="operador">Operador</option>
                        <option value="gestor">Gestor</option>
                        <option value="administrador">Administrador</option>
                    </select>
                </div>
                <div class="flex flex-col space-y-4">
                    <button onclick="register()" class="bg-primary hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline w-full">
                        Registrar
                    </button>
                    <button onclick="showLoginForm()" class="bg-white hover:bg-gray-100 text-gray-800 font-bold py-2 px-4 border border-gray-400 rounded focus:outline-none focus:shadow-outline w-full">
                        Voltar ao Login
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Application (hidden initially) -->
    <div id="appContainer" class="hidden">
        <nav class="bg-primary no-print">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex items-center justify-between h-16">
                    <div class="flex items-center">
                        <div class="flex-shrink-0">
                            <i class="fas fa-landmark text-white"></i>
                        </div>
                        <div class="ml-3">
                            <div class="text-white font-bold">Sistema de Controle de Receita Municipal</div>
                        </div>
                    </div>
                    <div class="flex items-center">
                        <span class="text-white mr-4" id="userDisplay">Usuário: </span>
                        <button onclick="logout()" class="text-white hover:text-gray-200">
                            <i class="fas fa-sign-out-alt mr-1"></i> Sair
                        </button>
                    </div>
                </div>
            </div>
        </nav>

        <div class="flex min-h-screen">
            <!-- Sidebar Navigation -->
            <aside class="w-64 bg-gray-800 text-white p-4 no-print">
                <nav>
                    <ul class="space-y-2">
                        <li>
                            <a href="#" onclick="showSection('dashboard')" class="block px-4 py-2 rounded hover:bg-gray-700">
                                <i class="fas fa-tachometer-alt mr-2"></i> Dashboard
                            </a>
                        </li>
                        <li>
                            <a href="#" onclick="showSection('revenueManagement')" class="block px-4 py-2 rounded hover:bg-gray-700">
                                <i class="fas fa-money-bill-wave mr-2"></i> Gestão de Receitas
                            </a>
                        </li>
                        <li>
                            <a href="#" onclick="showSection('reports')" class="block px-4 py-2 rounded hover:bg-gray-700">
                                <i class="fas fa-chart-bar mr-2"></i> Relatórios
                            </a>
                        </li>
                        <li>
                            <a href="#" onclick="showSection('analytics')" class="block px-4 py-2 rounded hover:bg-gray-700">
                                <i class="fas fa-chart-line mr-2"></i> Análises
                            </a>
                        </li>
                        <li>
                            <a href="#" onclick="showSection('adminUnits')" class="block px-4 py-2 rounded hover:bg-gray-700">
                                <i class="fas fa-building mr-2"></i> Unidades Admin.
                            </a>
                        </li>
                        <li>
                            <a href="#" onclick="showSection('services')" class="block px-4 py-2 rounded hover:bg-gray-700">
                                <i class="fas fa-hand-holding-usd mr-2"></i> Serviços
                            </a>
                        </li>
                        <li>
                            <a href="#" onclick="showSection('settings')" class="block px-4 py-2 rounded hover:bg-gray-700">
                                <i class="fas fa-cog mr-2"></i> Configurações
                            </a>
                        </li>
                        <li>
                            <a href="#" onclick="showSection('databaseHelp')" class="block px-4 py-2 rounded hover:bg-gray-700">
                                <i class="fas fa-database mr-2"></i> Banco de Dados
                            </a>
                        </li>
                    </ul>
                </nav>
            </aside>

            <!-- Main Content Area -->
            <main class="flex-1 bg-gray-100 p-6">
                <!-- Dashboard Section -->
                <section id="dashboard" class="page-content">
                    <h1 class="text-2xl font-bold mb-6">Dashboard</h1>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6">
                        <div class="bg-white rounded-lg shadow p-4 hover:shadow-lg cursor-pointer" onclick="showDetail('revenueTotal')">
                            <div class="flex justify-between items-center">
                                <div>
                                    <p class="text-sm text-gray-500">Receita Total</p>
                                    <p class="text-xl font-bold">90.494.696,00 Kz</p>
                                </div>
                                <div class="text-blue-500 bg-blue-100 p-3 rounded-full">
                                    <i class="fas fa-hand-holding-usd"></i>
                                </div>
                            </div>
                            <div class="mt-2">
                                <span class="text-green-500 text-sm"><i class="fas fa-arrow-up"></i> 12% desde o último período</span>
                            </div>
                        </div>
                        
                        <div class="bg-white rounded-lg shadow p-4 hover:shadow-lg cursor-pointer" onclick="showDetail('transactionCount')">
                            <div class="flex justify-between items-center">
                                <div>
                                    <p class="text-sm text-gray-500">Transações</p>
                                    <p class="text-xl font-bold">4,876</p>
                                </div>
                                <div class="text-green-500 bg-green-100 p-3 rounded-full">
                                    <i class="fas fa-receipt"></i>
                                </div>
                            </div>
                            <div class="mt-2">
                                <span class="text-green-500 text-sm"><i class="fas fa-arrow-up"></i> 8% desde o último período</span>
                            </div>
                        </div>
                        
                        <div class="bg-white rounded-lg shadow p-4 hover:shadow-lg cursor-pointer" onclick="showDetail('adminUnitsActive')">
                            <div class="flex justify-between items-center">
                                <div>
                                    <p class="text-sm text-gray-500">Unidades Ativas</p>
                                    <p class="text-xl font-bold">18</p>
                                </div>
                                <div class="text-purple-500 bg-purple-100 p-3 rounded-full">
                                    <i class="fas fa-building"></i>
                                </div>
                            </div>
                            <div class="mt-2">
                                <span class="text-yellow-500 text-sm"><i class="fas fa-arrow-right"></i> Sem alteração</span>
                            </div>
                        </div>
                        
                        <div class="bg-white rounded-lg shadow p-4 hover:shadow-lg cursor-pointer" onclick="showDetail('servicesActive')">
                            <div class="flex justify-between items-center">
                                <div>
                                    <p class="text-sm text-gray-500">Serviços Ativos</p>
                                    <p class="text-xl font-bold">42</p>
                                </div>
                                <div class="text-orange-500 bg-orange-100 p-3 rounded-full">
                                    <i class="fas fa-cogs"></i>
                                </div>
                            </div>
                            <div class="mt-2">
                                <span class="text-green-500 text-sm"><i class="fas fa-arrow-up"></i> 2 novos serviços</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6">
                        <div class="bg-white rounded-lg shadow p-4">
                            <div class="flex justify-between items-center mb-4">
                                <h2 class="text-lg font-bold">Receitas por Categoria</h2>
                                <div class="flex space-x-2">
                                    <button class="text-sm bg-gray-200 hover:bg-gray-300 px-2 py-1 rounded" onclick="updateChartPeriod('month')">Mês</button>
                                    <button class="text-sm bg-gray-200 hover:bg-gray-300 px-2 py-1 rounded" onclick="updateChartPeriod('quarter')">Trimestre</button>
                                    <button class="text-sm bg-gray-200 hover:bg-gray-300 px-2 py-1 rounded" onclick="updateChartPeriod('year')">Ano</button>
                                </div>
                            </div>
                            <div class="chart-container">
                                <canvas id="revenueByCategory"></canvas>
                            </div>
                        </div>
                        
                        <div class="bg-white rounded-lg shadow p-4">
                            <div class="flex justify-between items-center mb-4">
                                <h2 class="text-lg font-bold">Tendência de Receitas</h2>
                                <div class="flex space-x-2">
                                    <button class="text-sm bg-gray-200 hover:bg-gray-300 px-2 py-1 rounded" onclick="changeChartType('bar')">Barras</button>
                                    <button class="text-sm bg-gray-200 hover:bg-gray-300 px-2 py-1 rounded" onclick="changeChartType('line')">Linha</button>
                                </div>
                            </div>
                            <div class="chart-container">
                                <canvas id="revenueTrend"></canvas>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-white rounded-lg shadow p-4 mb-6">
                        <div class="flex justify-between items-center mb-4">
                            <h2 class="text-lg font-bold">Transações Recentes</h2>
                            <a href="#" onclick="showSection('reports')" class="text-blue-500 hover:text-blue-700">Ver todos</a>
                        </div>
                        <div class="table-container">
                            <table class="min-w-full divide-y divide-gray-200">
                                <thead class="bg-gray-50">
                                    <tr>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">ID</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Data</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Unidade</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Serviço</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Valor</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th>
                                    </tr>
                                </thead>
                                <tbody class="bg-white divide-y divide-gray-200">
                                    <tr class="hover:bg-gray-50 cursor-pointer" onclick="showTransactionDetail(1001)">
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">1001</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">01/04/2025</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Administração Municipal do Camama</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Atestado de Residência</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">3.696,00 Kz</td>
                                        <td class="px-6 py-4 whitespace-nowrap">
                                            <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">Concluído</span>
                                        </td>
                                    </tr>
                                    <tr class="hover:bg-gray-50 cursor-pointer" onclick="showTransactionDetail(1002)">
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">1002</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">01/04/2025</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Administração Municipal do Camama</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Licença de Utilização</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">7.040,00 Kz</td>
                                        <td class="px-6 py-4 whitespace-nowrap">
                                            <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">Concluído</span>
                                        </td>
                                    </tr>
                                    <tr class="hover:bg-gray-50 cursor-pointer" onclick="showTransactionDetail(1003)">
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">1003</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">31/03/2025</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Administração Municipal do Camama</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Concessão de Direito Fundiário</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">10.324.232,00 Kz</td>
                                        <td class="px-6 py-4 whitespace-nowrap">
                                            <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">Concluído</span>
                                        </td>
                                    </tr>
                                    <tr class="hover:bg-gray-50 cursor-pointer" onclick="showTransactionDetail(1004)">
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">1004</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">31/03/2025</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Administração Municipal do Camama</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Apreciação de Projetos</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">310.200,00 Kz</td>
                                        <td class="px-6 py-4 whitespace-nowrap">
                                            <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">Concluído</span>
                                        </td>
                                    </tr>
                                    <tr class="hover:bg-gray-50 cursor-pointer" onclick="showTransactionDetail(1005)">
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">1005</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">30/03/2025</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Administração Municipal do Camama</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Publicidade Luminosa</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">6.196.215,00 Kz</td>
                                        <td class="px-6 py-4 whitespace-nowrap">
                                            <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800">Pendente</span>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </section>

                <!-- Revenue Management Section -->
                <section id="revenueManagement" class="page-content hidden">
                    <h1 class="text-2xl font-bold mb-6">Gestão de Receitas</h1>
                    
                    <div class="bg-white rounded-lg shadow p-6 mb-6">
                        <h2 class="text-xl font-bold mb-4">Registrar Nova Receita</h2>
                        <form id="newRevenueForm">
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                                <div>
                                    <label for="adminUnit" class="block text-gray-700 text-sm font-bold mb-2">Unidade Administrativa:</label>
                                    <select id="adminUnit" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline">
                                        <option value="">Selecione a unidade</option>
                                        <option value="1">Administração Municipal do Camama</option>
                                        <option value="2">Administração Comunal do Camama</option>
                                    </select>
                                </div>
                                <div>
                                    <label for="serviceType" class="block text-gray-700 text-sm font-bold mb-2">Tipo de Serviço:</label>
                                    <select id="serviceType" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline">
                                        <option value="">Selecione o serviço</option>
                                        <option value="1">Atestados</option>
                                        <option value="2">Licença de Utilização</option>
                                        <option value="3">Concessão de Direito Fundiário</option>
                                        <option value="4">Apreciação de Projetos</option>
                                        <option value="5">Publicidade</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                                <div>
                                    <label for="subServiceType" class="block text-gray-700 text-sm font-bold mb-2">Subtipo de Serviço:</label>
                                    <select id="subServiceType" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline">
                                        <option value="">Selecione o subtipo</option>
                                    </select>
                                </div>
                                <div>
                                    <label for="paymentMethod" class="block text-gray-700 text-sm font-bold mb-2">Método de Pagamento:</label>
                                    <select id="paymentMethod" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline">
                                        <option value="1">Portal do Munícipe</option>
                                        <option value="2">Transferência Bancária</option>
                                        <option value="3">Pagamento Direto</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-4">
                                <div>
                                    <label for="transactionDate" class="block text-gray-700 text-sm font-bold mb-2">Data:</label>
                                    <input type="date" id="transactionDate" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline">
                                </div>
                                <div>
                                    <label for="quantity" class="block text-gray-700 text-sm font-bold mb-2">Quantidade:</label>
                                    <input type="number" id="quantity" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" min="1" value="1">
                                </div>
                                <div>
                                    <label for="amount" class="block text-gray-700 text-sm font-bold mb-2">Valor (Kz):</label>
                                    <input type="number" id="amount" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" step="0.01">
                                </div>
                            </div>
                            
                            <div class="mb-4">
                                <label for="notes" class="block text-gray-700 text-sm font-bold mb-2">Observações:</label>
                                <textarea id="notes" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" rows="3"></textarea>
                            </div>
                            
                            <div class="mb-4">
                                <label for="documentUpload" class="block text-gray-700 text-sm font-bold mb-2">Anexar Documento:</label>
                                <div class="flex items-center space-x-2">
                                    <input type="file" id="documentUpload" class="border rounded py-2 px-3 text-gray-700 w-full">
                                    <button type="button" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">
                                        <i class="fas fa-upload"></i>
                                    </button>
                                </div>
                            </div>
                            
                            <div class="flex justify-end">
                                <button type="button" onclick="saveRevenue()" class="bg-primary hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline">
                                    Salvar Receita
                                </button>
                            </div>
                        </form>
                    </div>
                    
                    <div class="bg-white rounded-lg shadow p-6">
                        <div class="flex justify-between items-center mb-4">
                            <h2 class="text-xl font-bold">Últimas Receitas Registradas</h2>
                            <div class="flex space-x-2">
                                <button class="bg-gray-200 hover:bg-gray-300 px-3 py-1 rounded" onclick="toggleFilter()">
                                    <i class="fas fa-filter mr-1"></i> Filtros
                                </button>
                                <button class="bg-green-500 hover:bg-green-600 text-white px-3 py-1 rounded">
                                    <i class="fas fa-file-excel mr-1"></i> Exportar
                                </button>
                            </div>
                        </div>
                        
                        <div id="filterPanel" class="filter-panel mb-4 bg-gray-50 p-4 rounded">
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                                <div>
                                    <label class="block text-gray-700 text-sm font-bold mb-2">Data Inicial:</label>
                                    <input type="date" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline">
                                </div>
                                <div>
                                    <label class="block text-gray-700 text-sm font-bold mb-2">Data Final:</label>
                                    <input type="date" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline">
                                </div>
                                <div>
                                    <label class="block text-gray-700 text-sm font-bold mb-2">Unidade:</label>
                                    <select class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline">
                                        <option value="">Todas</option>
                                        <option>Administração Municipal do Camama</option>
                                        <option>Administração Comunal do Camama</option>
                                    </select>
                                </div>
                            </div>
                            <div class="flex justify-end mt-4">
                                <button class="bg-primary hover:bg-blue-700 text-white font-bold py-1 px-4 rounded focus:outline-none focus:shadow-outline">
                                    Aplicar Filtros
                                </button>
                            </div>
                        </div>
                        
                        <div class="table-container">
                            <table class="min-w-full divide-y divide-gray-200">
                                <thead class="bg-gray-50">
                                    <tr>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer" onclick="sortTable(0)">
                                            ID <i class="fas fa-sort"></i>
                                        </th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer" onclick="sortTable(1)">
                                            Data <i class="fas fa-sort"></i>
                                        </th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer" onclick="sortTable(2)">
                                            Unidade <i class="fas fa-sort"></i>
                                        </th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer" onclick="sortTable(3)">
                                            Serviço <i class="fas fa-sort"></i>
                                        </th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer" onclick="sortTable(4)">
                                            Quantidade <i class="fas fa-sort"></i>
                                        </th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer" onclick="sortTable(5)">
                                            Valor <i class="fas fa-sort"></i>
                                        </th>
                                        <th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">
                                            Ações
                                        </th>
                                    </tr>
                                </thead>
                                <tbody class="bg-white divide-y divide-gray-200">
                                    <tr class="hover:bg-gray-50">
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">1001</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">01/04/2025</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Administração Municipal do Camama</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Atestado de Residência</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">7</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">3.696,00 Kz</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                                            <button class="text-blue-600 hover:text-blue-900 mr-2" onclick="editRevenue(1001)">
                                                <i class="fas fa-edit"></i>
                                            </button>
                                            <button class="text-red-600 hover:text-red-900" onclick="deleteRevenue(1001)">
                                                <i class="fas fa-trash"></i>
                                            </button>
                                        </td>
                                    </tr>
                                    <tr class="hover:bg-gray-50">
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">1002</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">01/04/2025</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Administração Municipal do Camama</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Licença de Utilização</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">2</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">7.040,00 Kz</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                                            <button class="text-blue-600 hover:text-blue-900 mr-2" onclick="editRevenue(1002)">
                                                <i class="fas fa-edit"></i>
                                            </button>
                                            <button class="text-red-600 hover:text-red-900" onclick="deleteRevenue(1002)">
                                                <i class="fas fa-trash"></i>
                                            </button>
                                        </td>
                                    </tr>
                                    <tr class="hover:bg-gray-50">
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">1003</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">31/03/2025</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Administração Municipal do Camama</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Concessão de Direito Fundiário</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">12</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">10.324.232,00 Kz</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                                            <button class="text-blue-600 hover:text-blue-900 mr-2" onclick="editRevenue(1003)">
                                                <i class="fas fa-edit"></i>
                                            </button>
                                            <button class="text-red-600 hover:text-red-900" onclick="deleteRevenue(1003)">
                                                <i class="fas fa-trash"></i>
                                            </button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </section>

                <!-- Reports Section -->
                <section id="reports" class="page-content hidden">
                    <h1 class="text-2xl font-bold mb-6">Relatórios</h1>
                    
                    <div class="bg-white rounded-lg shadow p-6 mb-6">
                        <h2 class="text-xl font-bold mb-4">Gerar Relatório</h2>
                        
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-4">
                            <div>
                                <label for="reportType" class="block text-gray-700 text-sm font-bold mb-2">Tipo de Relatório:</label>
                                <select id="reportType" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline">
                                    <option value="revenueDetailed">Receitas - Detalhado</option>
                                    <option value="revenueSummary">Receitas - Resumido</option>
                                    <option value="servicePerformance">Desempenho por Serviço</option>
                                    <option value="unitPerformance">Desempenho por Unidade</option>
                                    <option value="comparativePeriod">Comparativo por Período</option>
                                </select>
                            </div>
                            <div>
                                <label for="reportStartDate" class="block text-gray-700 text-sm font-bold mb-2">Data Inicial:</label>
                                <input type="date" id="reportStartDate" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" value="2025-01-01">
                            </div>
                            <div>
                                <label for="reportEndDate" class="block text-gray-700 text-sm font-bold mb-2">Data Final:</label>
                                <input type="date" id="reportEndDate" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" value="2025-04-01">
                            </div>
                        </div>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                            <div>
                                <label for="reportUnit" class="block text-gray-700 text-sm font-bold mb-2">Unidade Administrativa:</label>
                                <select id="reportUnit" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline">
                                    <option value="all">Todos</option>
                                    <option value="1">Administração Municipal do Camama</option>
                                    <option value="2">Administração Comunal do Camama</option>
                                </select>
                            </div>
                            <div>
                                <label for="reportService" class="block text-gray-700 text-sm font-bold mb-2">Tipo de Serviço:</label>
                                <select id="reportService" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline">
                                    <option value="all">Todos</option>
                                    <option value="1">Atestados</option>
                                    <option value="2">Licença de Utilização</option>
                                    <option value="3">Concessão de Direito Fundiário</option>
                                    <option value="4">Apreciação de Projetos</option>
                                    <option value="5">Publicidade</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="flex justify-end space-x-2">
                            <button onclick="generateReport()" class="bg-primary hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline">
                                Gerar Relatório
                            </button>
                            <div class="dropdown relative">
                                <button class="bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline flex items-center">
                                    Exportar <i class="fas fa-caret-down ml-2"></i>
                                </button>
                                <div class="dropdown-menu hidden absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg z-10">
                                    <a href="#" onclick="exportReport('pdf')" class="block px-4 py-2 text-gray-800 hover:bg-gray-100">
                                        <i class="fas fa-file-pdf mr-2 text-red-500"></i> Exportar como PDF
                                    </a>
                                    <a href="#" onclick="exportReport('excel')" class="block px-4 py-2 text-gray-800 hover:bg-gray-100">
                                        <i class="fas fa-file-excel mr-2 text-green-500"></i> Exportar como Excel
                                    </a>
                                    <a href="#" onclick="exportReport('csv')" class="block px-4 py-2 text-gray-800 hover:bg-gray-100">
                                        <i class="fas fa-file-csv mr-2 text-orange-500"></i> Exportar como CSV
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-white rounded-lg shadow p-6" id="reportOutput">
                        <div class="flex justify-between items-center mb-4">
                            <h2 class="text-xl font-bold">Relatório de Receitas Municipais - Detalhado</h2>
                            <div class="text-gray-600">
                                <span>Período: 01/01/2025 a 01/04/2025</span>
                            </div>
                        </div>
                        
                        <div class="table-container">
                            <table class="min-w-full divide-y divide-gray-200">
                                <thead class="bg-gray-50">
                                    <tr>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer" onclick="sortReport(0)">
                                            Órgão/Unidade <i class="fas fa-sort ml-1"></i>
                                        </th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer" onclick="sortReport(1)">
                                            Tipo de Serviço <i class="fas fa-sort ml-1"></i>
                                        </th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer" onclick="sortReport(2)">
                                            Documento <i class="fas fa-sort ml-1"></i>
                                        </th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer" onclick="sortReport(3)">
                                            Quantidade <i class="fas fa-sort ml-1"></i>
                                        </th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer" onclick="sortReport(4)">
                                            Valor (Kz) <i class="fas fa-sort ml-1"></i>
                                        </th>
                                    </tr>
                                </thead>
                                <tbody class="bg-white divide-y divide-gray-200">
                                    <tr class="font-bold bg-gray-100">
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900" colspan="4">Total Geral</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">90.494.696,00</td>
                                    </tr>
                                    <tr class="font-bold bg-gray-50">
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900" colspan="4">Governo Provincial De Luanda</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">90.494.696,00</td>
                                    </tr>
                                    <tr class="font-semibold hover:bg-gray-50">
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900 pl-10" colspan="4">Administração Municipal Do Camama</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">80.082.464,00</td>
                                    </tr>
                                    <tr class="hover:bg-gray-50" onclick="showReportDetails('Atestados')">
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 pl-16"></td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Atestados</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"></td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">138</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">72.864,00</td>
                                    </tr>
                                    <tr class="hover:bg-gray-50" onclick="showReportDetails('Agregado Familiar')">
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 pl-16"></td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 pl-6">Agregado Familiar</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"></td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">753</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">1.656.600,00</td>
                                    </tr>
                                    <tr class="hover:bg-gray-50" onclick="showReportDetails('Atestado De Residência')">
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 pl-16"></td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 pl-6">Atestado De Residência Para Nacionais E Estrangeiros</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"></td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">1607</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">926.288,00</td>
                                    </tr>
                                    <tr class="font-semibold hover:bg-gray-50">
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900 pl-10" colspan="4">Administração Comunal Do Camama</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">10.412.232,00</td>
                                    </tr>
                                    <tr class="hover:bg-gray-50" onclick="showReportDetails('Atestados Comunal')">
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 pl-16"></td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Atestados</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"></td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">7</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">3.696,00</td>
                                    </tr>
                                    <tr class="hover:bg-gray-50" onclick="showReportDetails('Licença De Utilização')">
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 pl-16"></td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Licença De Utilização De Edificações</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"></td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">2</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">7.040,00</td>
                                    </tr>
                                    <tr class="hover:bg-gray-50" onclick="showReportDetails('Concessão De Direito Fundiário')">
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 pl-16"></td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Concessão De Direito Fundiário</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"></td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">12</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">10.324.232,00</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </section>

                <!-- Analytics Section -->
                <section id="analytics" class="page-content hidden">
                    <h1 class="text-2xl font-bold mb-6">Análises</h1>
                    
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6">
                        <div class="bg-white rounded-lg shadow p-6">
                            <div class="flex justify-between items-center mb-4">
                                <h2 class="text-xl font-bold">Distribuição de Receitas por Serviço</h2>
                                <div class="flex space-x-2">
                                    <button class="text-sm bg-gray-200 hover:bg-gray-300 px-2 py-1 rounded" onclick="changeChartTypeAnalytics('pie', 'serviceDistribution')">
                                        <i class="fas fa-chart-pie"></i>
                                    </button>
                                    <button class="text-sm bg-gray-200 hover:bg-gray-300 px-2 py-1 rounded" onclick="changeChartTypeAnalytics('doughnut', 'serviceDistribution')">
                                        <i class="fas fa-circle-notch"></i>
                                    </button>
                                    <button class="text-sm bg-gray-200 hover:bg-gray-300 px-2 py-1 rounded" onclick="changeChartTypeAnalytics('bar', 'serviceDistribution')">
                                        <i class="fas fa-chart-bar"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="chart-container">
                                <canvas id="serviceDistribution"></canvas>
                            </div>
                            <div class="mt-4">
                                <p class="text-sm text-gray-600">Clique em uma categoria no gráfico para ver detalhes.</p>
                                <div id="serviceDetails" class="mt-2 p-3 bg-gray-50 rounded border border-gray-200 hidden">
                                    <h3 class="font-bold text-lg mb-2" id="serviceDetailsTitle">Detalhes do Serviço</h3>
                                    <div id="serviceDetailsContent">
                                        <!-- Detalhes serão carregados aqui -->
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="bg-white rounded-lg shadow p-6">
                            <div class="flex justify-between items-center mb-4">
                                <h2 class="text-xl font-bold">Receitas por Unidade Administrativa</h2>
                                <div class="flex space-x-2">
                                    <button class="text-sm bg-gray-200 hover:bg-gray-300 px-2 py-1 rounded" onclick="changeChartTypeAnalytics('bar', 'unitRevenue')">
                                        <i class="fas fa-chart-bar"></i>
                                    </button>
                                    <button class="text-sm bg-gray-200 hover:bg-gray-300 px-2 py-1 rounded" onclick="changeChartTypeAnalytics('horizontalBar', 'unitRevenue')">
                                        <i class="fas fa-bars"></i>
                                    </button>
                                    <button class="text-sm bg-gray-200 hover:bg-gray-300 px-2 py-1 rounded" onclick="changeChartTypeAnalytics('pie', 'unitRevenue')">
                                        <i class="fas fa-chart-pie"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="chart-container">
                                <canvas id="unitRevenue"></canvas>
                            </div>
                            <div class="mt-4">
                                <p class="text-sm text-gray-600">Clique em uma unidade no gráfico para ver sua composição de receita.</p>
                                <div id="unitDetails" class="mt-2 p-3 bg-gray-50 rounded border border-gray-200 hidden">
                                    <h3 class="font-bold text-lg mb-2" id="unitDetailsTitle">Detalhes da Unidade</h3>
                                    <div id="unitDetailsContent">
                                        <!-- Detalhes serão carregados aqui -->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-white rounded-lg shadow p-6 mb-6">
                        <div class="flex justify-between items-center mb-4">
                            <h2 class="text-xl font-bold">Tendência de Receitas ao Longo do Tempo</h2>
                            <div class="flex space-x-2">
                                <select id="trendPeriod" class="text-sm border rounded px-2 py-1" onchange="updateTrendChart()">
                                    <option value="daily">Diário</option>
                                    <option value="weekly">Semanal</option>
                                    <option value="monthly" selected>Mensal</option>
                                </select>
                                <button class="text-sm bg-gray-200 hover:bg-gray-300 px-2 py-1 rounded" onclick="toggleComparison()">
                                    <i class="fas fa-exchange-alt"></i> Comparar Períodos
                                </button>
                            </div>
                        </div>
                        <div class="chart-container h-80">
                            <canvas id="revenueTrendAnalytics"></canvas>
                        </div>
                        <div id="comparisonOptions" class="mt-4 p-3 bg-gray-50 rounded border border-gray-200 hidden">
                            <h3 class="font-bold mb-2">Opções de Comparação</h3>
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                                <div>
                                    <label class="block text-gray-700 text-sm font-bold mb-2">Período Atual:</label>
                                    <div class="flex space-x-2">
                                        <input type="date" id="currentPeriodStart" class="shadow appearance-none border rounded w-full py-1 px-2 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" value="2025-01-01">
                                        <input type="date" id="currentPeriodEnd" class="shadow appearance-none border rounded w-full py-1 px-2 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" value="2025-04-01">
                                    </div>
                                </div>
                                <div>
                                    <label class="block text-gray-700 text-sm font-bold mb-2">Período Comparativo:</label>
                                    <div class="flex space-x-2">
                                        <input type="date" id="comparePeriodStart" class="shadow appearance-none border rounded w-full py-1 px-2 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" value="2024-01-01">
                                        <input type="date" id="comparePeriodEnd" class="shadow appearance-none border rounded w-full py-1 px-2 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" value="2024-04-01">
                                    </div>
                                </div>
                                <div class="flex items-end">
                                    <button class="bg-primary hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline" onclick="applyComparison()">
                                        Aplicar Comparação
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                        <div class="bg-white rounded-lg shadow p-6">
                            <h2 class="text-xl font-bold mb-4">Análise de Desempenho por Serviço</h2>
                            <div class="table-container">
                                <table class="min-w-full divide-y divide-gray-200">
                                    <thead class="bg-gray-50">
                                        <tr>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer" onclick="sortPerformance(0)">
                                                Serviço <i class="fas fa-sort ml-1"></i>
                                            </th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer" onclick="sortPerformance(1)">
                                                Receita <i class="fas fa-sort ml-1"></i>
                                            </th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer" onclick="sortPerformance(2)">
                                                % do Total <i class="fas fa-sort ml-1"></i>
                                            </th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer" onclick="sortPerformance(3)">
                                                Tendência <i class="fas fa-sort ml-1"></i>
                                            </th>
                                        </tr>
                                    </thead>
                                    <tbody class="bg-white divide-y divide-gray-200">
                                        <tr class="hover:bg-gray-50 cursor-pointer" onclick="showServicePerformance('Concessão De Direito Fundiário')">
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">Concessão De Direito Fundiário</td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">10.355.032,00 Kz</td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">56.8%</td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-green-500">
                                                <i class="fas fa-arrow-up"></i> 15%
                                            </td>
                                        </tr>
                                        <tr class="hover:bg-gray-50 cursor-pointer" onclick="showServicePerformance('Publicidade')">
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">Publicidade</td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">6.841.663,00 Kz</td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">22.4%</td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-green-500">
                                                <i class="fas fa-arrow-up"></i> 8%
                                            </td>
                                        </tr>
                                        <tr class="hover:bg-gray-50 cursor-pointer" onclick="showServicePerformance('Coimas')">
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">Coimas</td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">8.732.148,00 Kz</td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">9.6%</td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-red-500">
                                                <i class="fas fa-arrow-down"></i> 12%
                                            </td>
                                        </tr>
                                        <tr class="hover:bg-gray-50 cursor-pointer" onclick="showServicePerformance('Atestados')">
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">Atestados</td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">3.621.112,00 Kz</td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">4.5%</td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-green-500">
                                                <i class="fas fa-arrow-up"></i> 5%
                                            </td>
                                        </tr>
                                        <tr class="hover:bg-gray-50 cursor-pointer" onclick="showServicePerformance('Vistorias')">
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">Vistorias</td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">4.127.200,00 Kz</td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">3.8%</td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-yellow-500">
                                                <i class="fas fa-arrow-right"></i> 0%
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        
                        <div class="bg-white rounded-lg shadow p-6">
                            <h2 class="text-xl font-bold mb-4">Metas e Desempenho</h2>
                            <div class="space-y-4">
                                <div>
                                    <div class="flex justify-between mb-1">
                                        <span class="text-sm font-medium text-gray-700">Meta de Arrecadação Total</span>
                                        <span class="text-sm font-medium text-gray-700">75%</span>
                                    </div>
                                    <div class="w-full bg-gray-200 rounded-full h-2.5">
                                        <div class="bg-blue-600 h-2.5 rounded-full" style="width: 75%"></div>
                                    </div>
                                    <div class="flex justify-between mt-1 text-xs text-gray-500">
                                        <span>Meta: 120.000.000,00 Kz</span>
                                        <span>Atual: 90.494.696,00 Kz</span>
                                    </div>
                                </div>
                                
                                <div>
                                    <div class="flex justify-between mb-1">
                                        <span class="text-sm font-medium text-gray-700">Administração Municipal do Camama</span>
                                        <span class="text-sm font-medium text-gray-700">89%</span>
                                    </div>
                                    <div class="w-full bg-gray-200 rounded-full h-2.5">
                                        <div class="bg-green-500 h-2.5 rounded-full" style="width: 89%"></div>
                                    </div>
                                    <div class="flex justify-between mt-1 text-xs text-gray-500">
                                        <span>Meta: 90.000.000,00 Kz</span>
                                        <span>Atual: 80.082.464,00 Kz</span>
                                    </div>
                                </div>
                                
                                <div>
                                    <div class="flex justify-between mb-1">
                                        <span class="text-sm font-medium text-gray-700">Administração Comunal do Camama</span>
                                        <span class="text-sm font-medium text-gray-700">35%</span>
                                    </div>
                                    <div class="w-full bg-gray-200 rounded-full h-2.5">
                                        <div class="bg-red-500 h-2.5 rounded-full" style="width: 35%"></div>
                                    </div>
                                    <div class="flex justify-between mt-1 text-xs text-gray-500">
                                        <span>Meta: 30.000.000,00 Kz</span>
                                        <span>Atual: 10.412.232,00 Kz</span>
                                    </div>
                                </div>
                                
                                <div>
                                    <div class="flex justify-between mb-1">
                                        <span class="text-sm font-medium text-gray-700">Crescimento Trimestral</span>
                                        <span class="text-sm font-medium text-gray-700">120%</span>
                                    </div>
                                    <div class="w-full bg-gray-200 rounded-full h-2.5">
                                        <div class="bg-purple-500 h-2.5 rounded-full" style="width: 100%"></div>
                                    </div>
                                    <div class="flex justify-between mt-1 text-xs text-gray-500">
                                        <span>Meta: 10%</span>
                                        <span>Atual: 12%</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="mt-6">
                                <h3 class="font-bold text-gray-700 mb-2">Projeção para Próximo Trimestre</h3>
                                <div class="bg-gray-50 p-3 rounded border border-gray-200">
                                    <div class="grid grid-cols-2 gap-4">
                                        <div>
                                            <p class="text-sm text-gray-600">Receita Projetada:</p>
                                            <p class="text-lg font-bold">102.258.000,00 Kz</p>
                                        </div>
                                        <div>
                                            <p class="text-sm text-gray-600">Crescimento Esperado:</p>
                                            <p class="text-lg font-bold text-green-600">+13%</p>
                                        </div>
                                    </div>
                                    <button class="mt-3 text-blue-500 hover:text-blue-700 text-sm" onclick="showProjectionDetails()">
                                        Ver detalhes da projeção <i class="fas fa-arrow-right ml-1"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
                
                <!-- Admin Units Section -->
                <section id="adminUnits" class="page-content hidden">
                    <h1 class="text-2xl font-bold mb-6">Unidades Administrativas</h1>
                    
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6">
                        <div class="bg-white rounded-lg shadow p-6 hover:shadow-lg cursor-pointer" onclick="showUnitDetail(1)">
                            <div class="flex justify-between items-center mb-4">
                                <div>
                                    <h2 class="text-xl font-bold">Governo Provincial de Luanda</h2>
                                    <p class="text-gray-600">Unidade Principal</p>
                                </div>
                                <div class="text-blue-500 bg-blue-100 p-3 rounded-full">
                                    <i class="fas fa-building"></i>
                                </div>
                            </div>
                            <div class="mt-2">
                                <div class="flex justify-between mb-1">
                                    <span class="text-sm font-medium text-gray-700">Receita</span>
                                    <span class="text-sm font-medium text-gray-700">100%</span>
                                </div>
                                <div class="w-full bg-gray-200 rounded-full h-2.5">
                                    <div class="bg-blue-600 h-2.5 rounded-full" style="width: 100%"></div>
                                </div>
                                <div class="flex justify-between mt-1 text-xs text-gray-500">
                                    <span>90.494.696,00 Kz</span>
                                    <span>2 unidades ativas</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="bg-white rounded-lg shadow p-6 hover:shadow-lg cursor-pointer" onclick="showUnitDetail(2)">
                            <div class="flex justify-between items-center mb-4">
                                <div>
                                    <h2 class="text-xl font-bold">Adm. Municipal do Camama</h2>
                                    <p class="text-gray-600">Unidade Municipal</p>
                                </div>
                                <div class="text-green-500 bg-green-100 p-3 rounded-full">
                                    <i class="fas fa-building"></i>
                                </div>
                            </div>
                            <div class="mt-2">
                                <div class="flex justify-between mb-1">
                                    <span class="text-sm font-medium text-gray-700">Receita</span>
                                    <span class="text-sm font-medium text-gray-700">88.5%</span>
                                </div>
                                <div class="w-full bg-gray-200 rounded-full h-2.5">
                                    <div class="bg-green-600 h-2.5 rounded-full" style="width: 88.5%"></div>
                                </div>
                                <div class="flex justify-between mt-1 text-xs text-gray-500">
                                    <span>80.082.464,00 Kz</span>
                                    <span>12 serviços</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="bg-white rounded-lg shadow p-6 hover:shadow-lg cursor-pointer" onclick="showUnitDetail(3)">
                            <div class="flex justify-between items-center mb-4">
                                <div>
                                    <h2 class="text-xl font-bold">Adm. Comunal do Camama</h2>
                                    <p class="text-gray-600">Unidade Comunal</p>
                                </div>
                                <div class="text-purple-500 bg-purple-100 p-3 rounded-full">
                                    <i class="fas fa-building"></i>
                                </div>
                            </div>
                            <div class="mt-2">
                                <div class="flex justify-between mb-1">
                                    <span class="text-sm font-medium text-gray-700">Receita</span>
                                    <span class="text-sm font-medium text-gray-700">11.5%</span>
                                </div>
                                <div class="w-full bg-gray-200 rounded-full h-2.5">
                                    <div class="bg-purple-600 h-2.5 rounded-full" style="width: 11.5%"></div>
                                </div>
                                <div class="flex justify-between mt-1 text-xs text-gray-500">
                                    <span>10.412.232,00 Kz</span>
                                    <span>5 serviços</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-white rounded-lg shadow p-6 mb-6">
                        <div class="flex justify-between items-center mb-4">
                            <h2 class="text-xl font-bold">Adicionar Nova Unidade Administrativa</h2>
                            <button class="bg-primary hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline" onclick="showAddUnitForm()">
                                <i class="fas fa-plus mr-2"></i> Nova Unidade
                            </button>
                        </div>
                        
                        <div id="addUnitForm" class="hidden bg-gray-50 p-4 rounded border border-gray-200">
                            <h3 class="font-bold mb-3">Formulário de Nova Unidade</h3>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                                <div>
                                    <label for="unitName" class="block text-gray-700 text-sm font-bold mb-2">Nome da Unidade:</label>
                                    <input type="text" id="unitName" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" placeholder="Nome da unidade administrativa">
                                </div>
                                <div>
                                    <label for="unitType" class="block text-gray-700 text-sm font-bold mb-2">Tipo de Unidade:</label>
                                    <select id="unitType" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline">
                                        <option value="provincial">Provincial</option>
                                        <option value="municipal">Municipal</option>
                                        <option value="comunal">Comunal</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                                <div>
                                    <label for="unitParent" class="block text-gray-700 text-sm font-bold mb-2">Unidade Superior:</label>
                                    <select id="unitParent" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline">
                                        <option value="">Nenhuma (Unidade Principal)</option>
                                        <option value="1">Governo Provincial de Luanda</option>
                                        <option value="2">Administração Municipal do Camama</option>
                                    </select>
                                </div>
                                <div>
                                    <label for="unitCode" class="block text-gray-700 text-sm font-bold mb-2">Código da Unidade:</label>
                                    <input type="text" id="unitCode" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" placeholder="Código único">
                                </div>
                            </div>
                            
                            <div class="mb-4">
                                <label for="unitDescription" class="block text-gray-700 text-sm font-bold mb-2">Descrição:</label>
                                <textarea id="unitDescription" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" rows="3" placeholder="Descrição da unidade administrativa"></textarea>
                            </div>
                            
                            <div class="flex justify-end space-x-2">
                                <button class="bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline" onclick="cancelAddUnit()">
                                    Cancelar
                                </button>
                                <button class="bg-primary hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline" onclick="saveUnit()">
                                    Salvar Unidade
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-white rounded-lg shadow p-6">
                        <div class="flex justify-between items-center mb-4">
                            <h2 class="text-xl font-bold">Lista de Unidades Administrativas</h2>
                            <div class="flex space-x-2">
                                <input type="text" placeholder="Pesquisar unidade..." class="shadow appearance-none border rounded py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline">
                                <button class="bg-gray-200 hover:bg-gray-300 px-3 py-1 rounded">
                                    <i class="fas fa-search"></i>
                                </button>
                            </div>
                        </div>
                        
                        <div class="table-container">
                            <table class="min-w-full divide-y divide-gray-200">
                                <thead class="bg-gray-50">
                                    <tr>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Código</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Nome</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Tipo</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Unidade Superior</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Serviços</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th>
                                        <th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">Ações</th>
                                    </tr>
                                </thead>
                                <tbody class="bg-white divide-y divide-gray-200">
                                    <tr class="hover:bg-gray-50">
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">GPL-001</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-medium">Governo Provincial de Luanda</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Provincial</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">-</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">0</td>
                                        <td class="px-6 py-4 whitespace-nowrap">
                                            <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">Ativo</span>
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                                            <button class="text-blue-600 hover:text-blue-900 mr-2" onclick="editUnit(1)">
                                                <i class="fas fa-edit"></i>
                                            </button>
                                            <button class="text-red-600 hover:text-red-900" onclick="deleteUnit(1)">
                                                <i class="fas fa-trash"></i>
                                            </button>
                                        </td>
                                    </tr>
                                    <tr class="hover:bg-gray-50">
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">AMC-001</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-medium">Administração Municipal do Camama</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Municipal</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Governo Provincial de Luanda</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">12</td>
                                        <td class="px-6 py-4 whitespace-nowrap">
                                            <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">Ativo</span>
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                                            <button class="text-blue-600 hover:text-blue-900 mr-2" onclick="editUnit(2)">
                                                <i class="fas fa-edit"></i>
                                            </button>
                                            <button class="text-red-600 hover:text-red-900" onclick="deleteUnit(2)">
                                                <i class="fas fa-trash"></i>
                                            </button>
                                        </td>
                                    </tr>
                                    <tr class="hover:bg-gray-50">
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">ACC-001</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-medium">Administração Comunal do Camama</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Comunal</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Administração Municipal do Camama</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">5</td>
                                        <td class="px-6 py-4 whitespace-nowrap">
                                            <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">Ativo</span>
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                                            <button class="text-blue-600 hover:text-blue-900 mr-2" onclick="editUnit(3)">
                                                <i class="fas fa-edit"></i>
                                            </button>
                                            <button class="text-red-600 hover:text-red-900" onclick="deleteUnit(3)">
                                                <i class="fas fa-trash"></i>
                                            </button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </section>
                
                <!-- Services Section -->
                <section id="services" class="page-content hidden">
                    <h1 class="text-2xl font-bold mb-6">Serviços</h1>
                    
                    <div class="bg-white rounded-lg shadow p-6 mb-6">
                        <div class="flex justify-between items-center mb-4">
                            <h2 class="text-xl font-bold">Cadastrar Novo Serviço</h2>
                            <button class="bg-primary hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline" onclick="showAddServiceForm()">
                                <i class="fas fa-plus mr-2"></i> Novo Serviço
                            </button>
                        </div>
                        
                        <div id="addServiceForm" class="hidden bg-gray-50 p-4 rounded border border-gray-200">
                            <h3 class="font-bold mb-3">Formulário de Novo Serviço</h3>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                                <div>
                                    <label for="serviceName" class="block text-gray-700 text-sm font-bold mb-2">Nome do Serviço:</label>
                                    <input type="text" id="serviceName" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" placeholder="Nome do serviço">
                                </div>
                                <div>
                                    <label for="serviceCategory" class="block text-gray-700 text-sm font-bold mb-2">Categoria:</label>
                                    <select id="serviceCategory" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline">
                                        <option value="1">Atestados</option>
                                        <option value="2">Licenças</option>
                                        <option value="3">Concessões</option>
                                        <option value="4">Vistorias</option>
                                        <option value="5">Publicidade</option>
                                        <option value="6">Outros</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                                <div>
                                    <label for="serviceUnit" class="block text-gray-700 text-sm font-bold mb-2">Unidade Administrativa:</label>
                                    <select id="serviceUnit" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline">
                                        <option value="1">Governo Provincial de Luanda</option>
                                        <option value="2">Administração Municipal do Camama</option>
                                        <option value="3">Administração Comunal do Camama</option>
                                    </select>
                                </div>
                                <div>
                                    <label for="servicePrice" class="block text-gray-700 text-sm font-bold mb-2">Valor (Kz):</label>
                                    <input type="number" id="servicePrice" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" placeholder="Valor do serviço" step="0.01">
                                </div>
                            </div>
                            
                            <div class="mb-4">
                                <label for="serviceDescription" class="block text-gray-700 text-sm font-bold mb-2">Descrição:</label>
                                <textarea id="serviceDescription" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" rows="3" placeholder="Descrição do serviço"></textarea>
                            </div>
                            
                            <div class="flex justify-end space-x-2">
                                <button class="bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline" onclick="cancelAddService()">
                                    Cancelar
                                </button>
                                <button class="bg-primary hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline" onclick="saveService()">
                                    Salvar Serviço
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-white rounded-lg shadow p-6">
                        <div class="flex justify-between items-center mb-4">
                            <h2 class="text-xl font-bold">Lista de Serviços</h2>
                            <div class="flex space-x-2">
                                <input type="text" placeholder="Pesquisar serviço..." class="shadow appearance-none border rounded py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline">
                                <select class="shadow appearance-none border rounded py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline">
                                    <option value="">Todas as categorias</option>
                                    <option value="1">Atestados</option>
                                    <option value="2">Licenças</option>
                                    <option value="3">Concessões</option>
                                    <option value="4">Vistorias</option>
                                    <option value="5">Publicidade</option>
                                </select>
                                <button class="bg-gray-200 hover:bg-gray-300 px-3 py-1 rounded">
                                    <i class="fas fa-search"></i>
                                </button>
                            </div>
                        </div>
                        
                        <div class="table-container">
                            <table class="min-w-full divide-y divide-gray-200">
                                <thead class="bg-gray-50">
                                    <tr>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">ID</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Nome</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Categoria</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Unidade</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Valor (Kz)</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th>
                                        <th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">Ações</th>
                                    </tr>
                                </thead>
                                <tbody class="bg-white divide-y divide-gray-200">
                                    <tr class="hover:bg-gray-50">
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">1</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-medium">Atestado de Residência</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Atestados</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Adm. Municipal do Camama</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">528,00</td>
                                        <td class="px-6 py-4 whitespace-nowrap">
                                            <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">Ativo</span>
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                                            <button class="text-blue-600 hover:text-blue-900 mr-2" onclick="editService(1)">
                                                <i class="fas fa-edit"></i>
                                            </button>
                                            <button class="text-red-600 hover:text-red-900" onclick="deleteService(1)">
                                                <i class="fas fa-trash"></i>
                                            </button>
                                        </td>
                                    </tr>
                                    <tr class="hover:bg-gray-50">
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">2</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-medium">Licença de Utilização de Edificações</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Licenças</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Adm. Comunal do Camama</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">3.520,00</td>
                                        <td class="px-6 py-4 whitespace-nowrap">
                                            <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">Ativo</span>
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                                            <button class="text-blue-600 hover:text-blue-900 mr-2" onclick="editService(2)">
                                                <i class="fas fa-edit"></i>
                                            </button>
                                            <button class="text-red-600 hover:text-red-900" onclick="deleteService(2)">
                                                <i class="fas fa-trash"></i>
                                            </button>
                                        </td>
                                    </tr>
                                    <tr class="hover:bg-gray-50">
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">3</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-medium">Concessão de Direito Fundiário</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Concessões</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Adm. Comunal do Camama</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">860.352,67</td>
                                        <td class="px-6 py-4 whitespace-nowrap">
                                            <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">Ativo</span>
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                                            <button class="text-blue-600 hover:text-blue-900 mr-2" onclick="editService(3)">
                                                <i class="fas fa-edit"></i>
                                            </button>
                                            <button class="text-red-600 hover:text-red-900" onclick="deleteService(3)">
                                                <i class="fas fa-trash"></i>
                                            </button>
                                        </td>
                                    </tr>
                                    <tr class="hover:bg-gray-50">
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">4</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-medium">Apreciação de Projetos de Obra</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Apreciações</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Adm. Municipal do Camama</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">2.200,00</td>
                                        <td class="px-6 py-4 whitespace-nowrap">
                                            <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">Ativo</span>
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                                            <button class="text-blue-600 hover:text-blue-900 mr-2" onclick="editService(4)">
                                                <i class="fas fa-edit"></i>
                                            </button>
                                            <button class="text-red-600 hover:text-red-900" onclick="deleteService(4)">
                                                <i class="fas fa-trash"></i>
                                            </button>
                                        </td>
                                    </tr>
                                    <tr class="hover:bg-gray-50">
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">5</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-medium">Publicidade Luminosa</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Publicidade</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Adm. Municipal do Camama</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">66.625,97</td>
                                        <td class="px-6 py-4 whitespace-nowrap">
                                            <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">Ativo</span>
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                                            <button class="text-blue-600 hover:text-blue-900 mr-2" onclick="editService(5)">
                                                <i class="fas fa-edit"></i>
                                            </button>
                                            <button class="text-red-600 hover:text-red-900" onclick="deleteService(5)">
                                                <i class="fas fa-trash"></i>
                                            </button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </section>
                
                <!-- Settings Section -->
                <section id="settings" class="page-content hidden">
                    <h1 class="text-2xl font-bold mb-6">Configurações</h1>
                    
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6">
                        <div class="bg-white rounded-lg shadow p-6">
                            <h2 class="text-xl font-bold mb-4">Configurações da Conta</h2>
                            <div class="space-y-4">
                                <div>
                                    <label for="userName" class="block text-gray-700 text-sm font-bold mb-2">Nome:</label>
                                    <input type="text" id="userName" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" value="João Silva">
                                </div>
                                <div>
                                    <label for="userEmail" class="block text-gray-700 text-sm font-bold mb-2">Email:</label>
                                    <input type="email" id="userEmail" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" value="joao.silva@example.com">
                                </div>
                                <div>
                                    <label for="userRole" class="block text-gray-700 text-sm font-bold mb-2">Função:</label>
                                    <input type="text" id="userRole" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 bg-gray-100 leading-tight focus:outline-none focus:shadow-outline" value="Administrador" readonly>
                                </div>
                                <div>
                                    <button class="bg-primary hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline w-full">
                                        Atualizar Perfil
                                    </button>
                                </div>
                            </div>
                        </div>
                        
                        <div class="bg-white rounded-lg shadow p-6">
                            <h2 class="text-xl font-bold mb-4">Alterar Senha</h2>
                            <div class="space-y-4">
                                <div>
                                    <label for="currentPassword" class="block text-gray-700 text-sm font-bold mb-2">Senha Atual:</label>
                                    <input type="password" id="currentPassword" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline">
                                </div>
                                <div>
                                    <label for="newPassword" class="block text-gray-700 text-sm font-bold mb-2">Nova Senha:</label>
                                    <input type="password" id="newPassword" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline">
                                </div>
                                <div>
                                    <label for="confirmPassword" class="block text-gray-700 text-sm font-bold mb-2">Confirmar Nova Senha:</label>
                                    <input type="password" id="confirmPassword" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline">
                                </div>
                                <div>
                                    <button class="bg-primary hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline w-full">
                                        Alterar Senha
                                    </button>
                                </div>
                            </div>
                        </div>
                        
                        <div class="bg-white rounded-lg shadow p-6">
                            <h2 class="text-xl font-bold mb-4">Preferências do Sistema</h2>
                            <div class="space-y-4">
                                <div>
                                    <label for="language" class="block text-gray-700 text-sm font-bold mb-2">Idioma:</label>
                                    <select id="language" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline">
                                        <option value="pt">Português</option>
                                        <option value="en">Inglês</option>
                                    </select>
                                </div>
                                <div>
                                    <label for="dateFormat" class="block text-gray-700 text-sm font-bold mb-2">Formato de Data:</label>
                                    <select id="dateFormat" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline">
                                        <option value="dd/mm/yyyy">DD/MM/AAAA</option>
                                        <option value="mm/dd/yyyy">MM/DD/AAAA</option>
                                        <option value="yyyy-mm-dd">AAAA-MM-DD</option>
                                    </select>
                                </div>
                                <div>
                                    <label for="currencyFormat" class="block text-gray-700 text-sm font-bold mb-2">Formato de Moeda:</label>
                                    <select id="currencyFormat" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline">
                                        <option value="kz">Kwanza Angolano (Kz)</option>
                                        <option value="usd">Dólar Americano ($)</option>
                                        <option value="eur">Euro (€)</option>
                                    </select>
                                </div>
                                <div class="flex items-center">
                                    <input type="checkbox" id="darkMode" class="mr-2">
                                    <label for="darkMode" class="text-gray-700 text-sm font-bold">Modo Escuro</label>
                                </div>
                                <div>
                                    <button class="bg-primary hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline w-full">
                                        Salvar Preferências
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-white rounded-lg shadow p-6 mb-6">
                        <h2 class="text-xl font-bold mb-4">Gerenciamento de Usuários</h2>
                        <div class="table-container">
                            <table class="min-w-full divide-y divide-gray-200">
                                <thead class="bg-gray-50">
                                    <tr>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">ID</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Nome</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Email</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Função</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th>
                                        <th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">Ações</th>
                                    </tr>
                                </thead>
                                <tbody class="bg-white divide-y divide-gray-200">
                                    <tr class="hover:bg-gray-50">
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">1</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">João Silva</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">joao.silva@example.com</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Administrador</td>
                                        <td class="px-6 py-4 whitespace-nowrap">
                                            <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">Ativo</span>
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                                            <button class="text-blue-600 hover:text-blue-900 mr-2" onclick="editUser(1)">
                                                <i class="fas fa-edit"></i>
                                            </button>
                                            <button class="text-red-600 hover:text-red-900" onclick="deleteUser(1)">
                                                <i class="fas fa-trash"></i>
                                            </button>
                                        </td>
                                    </tr>
                                    <tr class="hover:bg-gray-50">
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">2</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">Maria Rodrigues</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">maria.rodrigues@example.com</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Gestor</td>
                                        <td class="px-6 py-4 whitespace-nowrap">
                                            <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">Ativo</span>
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                                            <button class="text-blue-600 hover:text-blue-900 mr-2" onclick="editUser(2)">
                                                <i class="fas fa-edit"></i>
                                            </button>
                                            <button class="text-red-600 hover:text-red-900" onclick="deleteUser(2)">
                                                <i class="fas fa-trash"></i>
                                            </button>
                                        </td>
                                    </tr>
                                    <tr class="hover:bg-gray-50">
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">3</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">Pedro Santos</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">pedro.santos@example.com</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Operador</td>
                                        <td class="px-6 py-4 whitespace-nowrap">
                                            <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800">Inativo</span>
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                                            <button class="text-blue-600 hover:text-blue-900 mr-2" onclick="editUser(3)">
                                                <i class="fas fa-edit"></i>
                                            </button>
                                            <button class="text-green-600 hover:text-green-900 mr-2" onclick="activateUser(3)">
                                                <i class="fas fa-check"></i>
                                            </button>
                                            <button class="text-red-600 hover:text-red-900" onclick="deleteUser(3)">
                                                <i class="fas fa-trash"></i>
                                            </button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="mt-4">
                            <button class="bg-primary hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline" onclick="showAddUserForm()">
                                <i class="fas